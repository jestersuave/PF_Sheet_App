/* Global Resets and Body Styling */
body {
  font-family: Arial, Helvetica, sans-serif;
  font-size: 13px; /* Slightly smaller font for density */
  line-height: 1.4;
  margin: 20px;
  background-color: #e0e0e0; /* Neutral background */
  color: #333;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Sheet Container */
#sheet-container {
  max-width: 1000px;
  margin: 0 auto;
  background-color: #fff;
  padding: 20px;
  border: 1px solid #555;
  box-shadow: 3px 3px 8px rgba(0,0,0,0.2);
}

/* Headings */
h2 {
  font-size: 1.4em;
  color: #444;
  border-bottom: 2px solid #666;
  padding-bottom: 4px;
  margin-bottom: 10px;
  margin-top: 10px; /* Space before a new section */
}

#charInfo h2 {
  margin-top: 0; /* No top margin for the very first heading */
}

/* Character Info Section */
#charInfo {
  padding-bottom: 15px;
  margin-bottom: 15px;
  border-bottom: 1px solid #ccc;
  display: flex;
  flex-wrap: wrap; /* Allow items to wrap */
  gap: 10px 20px; /* Row and column gap */
  align-items: center;
}

#charInfo > div {
  display: flex;
  align-items: center;
  margin-bottom: 0; /* Handled by gap */
  padding: 0; /* Remove default padding */
  border-bottom: none; /* Remove default border */
}

#charInfo label {
  min-width: auto; /* Override previous min-width */
  margin-right: 5px;
  font-weight: bold;
}

#charInfo input[type="text"],
#charInfo input[type="number"] {
  width: 150px; /* Adjust as needed */
  padding: 5px;
}
#charInfo input#charLevel {
  width: 60px;
}


/* Main Content Area - Flexbox for Columns */
#main-content {
  display: flex;
  gap: 20px; /* Space between columns */
}

#main-left-column {
  flex: 2; /* Left column takes up less space, e.g., 40% */
  display: flex;
  flex-direction: column;
  gap: 15px; /* Space between sections in this column */
}

#main-right-column {
  flex: 3; /* Right column takes up more space, e.g., 60% */
  display: flex;
  flex-direction: column;
  gap: 15px; /* Space between sections in this column */
}

/* Common styling for sections within columns */
#abilityScores,
#skills,
#combatStats,
#savingThrows {
  border: 1px solid #aaa;
  padding: 10px;
  border-radius: 3px; /* Subtle rounding */
}

/* Styling for individual items within sections (label, input, span) */
#abilityScores > div,
#skills > div,
#combatStats > div,
#savingThrows > div {
  display: flex;
  align-items: center;
  margin-bottom: 6px; /* Space between rows */
  padding: 4px;
  border-bottom: 1px solid #eee; /* Light separator for rows */
}

#abilityScores > div:last-child,
#skills > div:last-child,
#combatStats > div:last-child,
#savingThrows > div:last-child {
  border-bottom: none; /* No border for the last item in a section */
}

label {
  margin-right: 8px;
  font-weight: normal; /* Less emphasis than charInfo labels */
  min-width: 120px; /* Default alignment for labels in sections */
  display: inline-block;
  flex-shrink: 0; /* Prevent labels from shrinking */
}

input[type="text"],
input[type="number"] {
  padding: 5px;
  border: 1px solid #ccc;
  border-radius: 3px;
  width: 60px; /* Default compact width */
  margin-right: 5px; /* Space before any following span */
}

span { /* General spans, often used for "Modifier:" or "Total:" text */
  margin-left: 0; /* Reset from previous styles */
}

/* Specific span styling for calculated values */
[id$="Mod"], /* e.g., strMod, dexMod */
[id$="Total"] /* e.g., acrobaticsTotal, hpTotal */ {
  font-weight: bold;
  min-width: 20px; /* Ensure space for the number */
  display: inline-block; /* Allow min-width */
  text-align: right;
  margin-left: 5px; /* Space before the value */
}

/* Specific Section Adjustments */

/* Ability Scores */
#abilityScores label { min-width: 90px; }
#abilityScores input[type="number"] { width: 50px; }

/* Skills */
#skills label { min-width: 200px; } /* Skills often have longer names */
#skills input[type="number"] { width: 50px; }

/* Combat Stats */
#combatStats label { min-width: 150px; }
#combatStats input[type="number"] { width: 60px; }
#combatStats > div > span:not([id$="Total"]) { /* "Total AC:", "Melee Attack:" etc. */
    font-weight: bold;
    min-width: 150px; /* Align the descriptive spans */
}

/* Saving Throws */
#savingThrows label { min-width: 140px; }
#savingThrows input[type="number"] { width: 50px; }


/* Ensure consistent look for calculated value holders */
#strMod, #dexMod, #conMod, #intMod, #wisMod, #chaMod,
#acrobaticsTotal, #appraiseTotal, #bluffTotal, #climbTotal, #craftTotal, #diplomacyTotal,
#disableDeviceTotal, #disguiseTotal, #escapeArtistTotal, #flyTotal, #handleAnimalTotal,
#healTotal, #intimidateTotal, #knowledgeArcanaTotal, #knowledgeDungeoneeringTotal,
#knowledgeEngineeringTotal, #knowledgeGeographyTotal, #knowledgeHistoryTotal,
#knowledgeLocalTotal, #knowledgeNatureTotal, #knowledgeNobilityTotal, #knowledgePlanesTotal,
#knowledgeReligionTotal, #linguisticsTotal, #perceptionTotal, #performTotal, #professionTotal,
#rideTotal, #senseMotiveTotal, #sleightOfHandTotal, #spellcraftTotal, #stealthTotal,
#survivalTotal, #swimTotal, #useMagicDeviceTotal,
#hpTotal, #acTotal, #meleeAttack, #rangedAttack, #cmbTotal, #cmdTotal, #initiativeTotal,
#fortTotal, #refTotal, #willTotal {
  color: #003366; /* Dark blue for calculated values */
  padding: 2px 4px;
  background-color: #f0f0f0; /* Light background for emphasis */
  border-radius: 2px;
  text-align: center; /* Center the number in its box */
}

#hpTotal, #acTotal {
    min-width: 30px; /* Slightly wider for potentially larger numbers */
}

/* Custom Dice Rolls Section */
#customRollsSection {
  border: 1px solid #aaa;
  padding: 10px;
  border-radius: 3px; /* Subtle rounding */
  margin-top: 15px; /* Space from the skills section */
}

#addCustomRollBtn {
  font-size: 1.2em; /* Make '+' clearly visible */
  padding: 5px 10px;
  margin-bottom: 10px; /* Space before the form container */
  cursor: pointer;
  background-color: #f0f0f0;
  border: 1px solid #ccc;
  border-radius: 3px;
}

#addCustomRollBtn:hover {
  background-color: #e0e0e0;
}

#customRollFormContainer .custom-roll-form { /* Class for individual forms */
  border: 1px solid #ccc;
  padding: 10px;
  margin-bottom: 10px;
  background-color: #f9f9f9;
  border-radius: 3px;
}

.custom-roll-form div { /* For layout of label/input pairs */
  margin-bottom: 8px;
  display: flex;
  align-items: center;
}

.custom-roll-form label {
  min-width: 100px; /* Adjust as needed */
  margin-right: 5px;
}

.custom-roll-form input[type="number"] {
  width: 50px; /* Compact size for dice counts */
  margin-right: 10px; /* Space between dice inputs */
}

.custom-roll-form input[type="text"] { /* For description */
  flex-grow: 1; /* Allow description to take available space */
  padding: 5px;
}

.custom-roll-form button { /* Save button for the form */
  padding: 6px 12px;
  background-color: #4CAF50; /* Green for save */
  color: white;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  margin-top: 5px;
}

.custom-roll-form button:hover {
  background-color: #45a049;
}

#customRollsDisplayContainer .displayed-roll { /* Class for individual displayed rolls */
  border: 1px solid #ddd;
  padding: 8px;
  margin-bottom: 8px;
  background-color: #fff;
  border-radius: 3px;
  display: flex;
  justify-content: space-between; /* For description and dice string */
  align-items: center;
}

.displayed-roll .roll-description {
  font-weight: bold;
  margin-right: 10px;
}

.displayed-roll .roll-dice-summary {
  font-family: monospace; /* Good for dice strings like 2d6+1d4 */
  font-size: 0.95em;
}

/* Bonuses Section */
#bonusesSection {
  border: 1px solid #aaa;
  padding: 10px;
  border-radius: 3px; /* Subtle rounding */
  margin-top: 15px; /* Space from the previous section */
}

#addBonusBtn {
  font-size: 1.2em; /* Make '+' clearly visible */
  padding: 5px 10px;
  margin-bottom: 10px; /* Space before the form container */
  cursor: pointer;
  background-color: #f0f0f0;
  border: 1px solid #ccc;
  border-radius: 3px;
}

#addBonusBtn:hover {
  background-color: #e0e0e0;
}

#bonusFormContainer .bonus-form { /* Class for individual bonus forms */
  border: 1px solid #ccc;
  padding: 10px;
  margin-bottom: 10px;
  background-color: #f9f9f9;
  border-radius: 3px;
}

.bonus-form div { /* For layout of label/input pairs within the bonus form */
  margin-bottom: 8px;
  /* display: flex; Consider flex for more complex alignment if needed */
  /* align-items: center; */
}

.bonus-form label {
  min-width: 120px; /* Adjust as needed */
  margin-right: 5px;
  display: block; /* Make labels take their own line for now */
  margin-bottom: 3px; /* Space between label and its control */
}

.bonus-form select,
.bonus-form textarea,
.bonus-form input[type="text"] { /* Assuming a text input might be used, though not in current plan */
  width: 100%; /* Make them take full width of their container */
  padding: 5px;
  border: 1px solid #ccc;
  border-radius: 3px;
}

.bonus-form input#bonusValue_temp {
  width: 70px;
  padding: 5px; /* Match other inputs */
  /* margin-left: 5px; /* Only if label is inline and needs space */
}

.bonus-form .checkbox-group label {
    min-width: unset; /* Override default for checkbox labels */
    display: inline-block; /* Keep checkbox and label on same line */
    margin-right: 10px;
    font-weight: normal;
}
.bonus-form .checkbox-group input[type="checkbox"] {
    width: auto; /* Checkboxes should not be full width */
    margin-right: 5px;
}


.bonus-form textarea {
  min-height: 60px; /* Decent starting height for description */
  resize: vertical; /* Allow vertical resizing */
}

.bonus-form button { /* Save/Cancel buttons for the bonus form */
  padding: 6px 12px;
  color: white;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  margin-top: 5px;
  margin-right: 5px; /* Space between buttons */
}

.bonus-form button.save-bonus-btn {
  background-color: #4CAF50; /* Green for save */
}
.bonus-form button.save-bonus-btn:hover {
  background-color: #45a049;
}

.bonus-form button.cancel-bonus-btn {
  background-color: #f44336; /* Red for cancel */
}
.bonus-form button.cancel-bonus-btn:hover {
  background-color: #da190b;
}

#bonusesDisplayContainer .displayed-bonus { /* Class for individual displayed bonuses */
  border: 1px solid #ddd;
  padding: 8px;
  margin-bottom: 8px;
  background-color: #fff;
  border-radius: 3px;
}

.displayed-bonus .bonus-summary {
  font-weight: bold;
  margin-bottom: 4px;
}

.displayed-bonus .bonus-applies-to {
  font-style: italic;
  color: #555;
  margin-bottom: 4px;
}

.displayed-bonus .bonus-description {
  font-size: 0.9em;
  color: #333;
  margin-bottom: 5px;
}

.displayed-bonus button.delete-bonus-btn {
  padding: 3px 8px;
  background-color: #dc3545; /* Red color for delete */
  color: white;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  font-size: 0.85em;
  float: right; /* Position delete button to the right */
}
.displayed-bonus button.delete-bonus-btn:hover {
  background-color: #c82333;
}

/* Clearfix for displayed-bonus if using float */
#bonusesDisplayContainer .displayed-bonus::after {
  content: "";
  clear: both;
  display: table;
}
